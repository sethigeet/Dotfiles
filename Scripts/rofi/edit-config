#!/usr/bin/env bash

declare -A options
options[ zshrc]="$HOME/.zshrc"
options[ bashrc]="$HOME/.bashrc"
options[ bash_profile]="$HOME/.bash_profile"
options[ doom]="$HOME/.doom.d/config.el"
options[節tmux]="$HOME/.tmux.conf"
options[ vim]="$HOME/.vimrc"
options[ alacritty]="$HOME/.config/alacritty/alacritty.yml"
options[ i3]="$HOME/.config/i3/config"
options[ qtile]="$HOME/.config/qtile/config.py"
options[ vim]="$HOME/.config/nvim/init.vim"
options[ picom]="$HOME/.config/picom/picom.conf"
options[ rofi]="$HOME/.config/rofi/config.rasi"
options[ polybar]="$HOME/.config/polybar/config.ini"
options[ shell]="$HOME/.config/shell/init_shell.sh"
options[ bash]="$HOME/.config/bash/init_bash.bash"
options[ zsh]="$HOME/.config/zsh/init_zsh.zsh"
options[ vifm]="$HOME/.config/vifm/vifmrc"

selected_config_name=$(printf '%s\n' "${!options[@]}" | rofi -dmenu -i -p "Edit config: ")

[ -z "$selected_config_name" ] && echo "Cancelled" && exit 0

# What to do when/if we choose a file to edit.
selected_config_path=$(printf '%s\n' "${options["$selected_config_name"]}")
selected_config_dir="${selected_config_path%/*}"

cd "$selected_config_dir" || exit 1

rofi-sensible-terminal -e nvim "$selected_config_path" &

unset selected_config_name
unset selected_config_path
unset selected_config_dir

